
<table id="myTable" border="1" class="cal" *ngIf = "vacData" 
  style="border-collapse: collapse; 
background-color:rgb(239, 214, 208)" 
cellpadding="2">
<tr>
  <td colspan='31'> October </td>
  <td colspan='30'> November </td>
</tr>
<tr>
  <td *ngFor = "let d of calDates" [className] ="getDateClass(d )"  >
    {{ d.getDate()}}
  </td>
</tr>
<tr *ngFor = "let item of vacData | keyvalue" > {{ zeroDayNum() }}
  <td *ngFor='let loop3 of counter(item.value[0].daysTillStartDate ) ;let ip= index' [className] = "incDay(1)" > </td>
  <td [attr.colspan] = 'item.value[0].vacLength+1' class = "green" (click) = "showEditFunc(item.value[0])">{{ item.value[0]['LastName'] }}  </td>

  <ng-container *ngIf = 'item.value[1]'> 
   <td *ngFor= 'let loop4 of counter(daysBetween(item.value[0], item.value[1])) ;let ip2= index'  [className] = "incDay1(1,item.value[0].vacLength) " >  </td>
   <td [attr.colspan] = 'item.value[1].vacLength+1' (click) = "showEditFunc(item.value[1])" class = "green">  {{ item.value[1]['LastName'] }} </td>
  </ng-container> 
  <ng-container  *ngIf = '!item.value[1]'  > 
    <td *ngFor = "let lp0 of counter( daysTillEnd(item.value[0])+1)" [className] =  "incDay1(1,item.value[0].vacLength)">   </td>
  </ng-container>
  

  <ng-container *ngIf = 'item.value[2]'> 
    <td *ngFor= 'let loop5 of counter(  daysBetween(item.value[1], item.value[2]))' [className] = "incDay1(1,item.value[1].vacLength + item.value[0].vacLength)   "     >  </td>
    <td [attr.colspan] = 'item.value[2].vacLength+1'  (click) = "prop1=item.value[2]"   class = "green" >{{ item.value[1]['LastName'] }} </td>
   </ng-container> 
   <ng-container *ngIf = '!item.value[3] && item.value[2]'>
   <td  *ngFor='let l4 of counter ( daysTillEnd(item.value[2]))'> {{   incDay1(1,  item.value[2].vacLength +  item.value[1].vacLength +   item.value[0].vacLength) }}  </td>
   </ng-container>
   <ng-container *ngIf = '!item.value[2] && item.value[1]'>
     <td *ngFor='let l3 of counter( daysTillEnd(item.value[1])+1); ' [className] = "incDay1(1,item.value[0].vacLength + item.value[1].vacLength)" >  </td>
   </ng-container>

   <ng-container *ngIf = 'item.value[3]'> 
    <td *ngFor= 'let loop6 of counter( daysBetween(item.value[2], item.value[3]));'    >  {{   incDay1(1, item.value[2].vacLength +  item.value[1].vacLength +   item.value[0].vacLength) }}      </td>
    <td [attr.colspan] = 'item.value[3].vacLength+1'  class = "green"  >{{ item.value[2]['LastName'] }}</td>
   </ng-container> 
   <ng-container *ngIf = 'item.value[3]'>
    <td *ngFor='let l3 of counter( daysTillEnd(item.value[3])+1); '> {{ incDay1(1,item.value[0].vacLength + item.value[1].vacLength + item.value[2].vacLength  + item.value[3].vacLength  ) }}  </td>
  </ng-container>
</tr>


</table>
<div id='spacer'>
  <table class='centerSmall' *ngIf = showEdit >
      <caption> {{ theCaption }} Edit Time Away </caption>
    <tr *ngIf = !readOnly>
        <th> Start Date</th>
        <th> End Date</th>
        <th> Reason </th>
        <th> Start Date</th>
    </tr>  

    <td>
    <mat-form-field appearance="fill" *ngIf = showEdit>
      <input matInput [(ngModel)]="startDate" [matDatepicker]="picker" (dateChange)="editDate('startDate', $event)" placeholder=" {{ vacEdit.startDate }}">
      <mat-datepicker-toggle matSuffix [for]="picker"    ></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    </td>

    
    <td>
      <mat-form-field appearance="fill">
        <input matInput [(ngModel)]="startDate" [matDatepicker]="picker2" (dateChange)="editDate('endDate', $event)"   placeholder=" {{ vacEdit.endDate }}">
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
      </td>

    <td>
      <mat-form-field appearance="fill">
        <mat-select (selectionChange)="editReasonIdx( $event)"  [(value)]="reasonIdx">
          <mat-option value="1">Personal Vacation</mat-option>
          <mat-option value="2" >Meeting </mat-option>
          <mat-option value="3">Other </mat-option>
        </mat-select>
      </mat-form-field>
    </td>
    <td>
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Note</mat-label>
          <input matInput placeholder="Ex. Pizza" >
        </mat-form-field>
    </td>
    <td>
      <button mat-raised-button (click) = "saveEdits($event)">Save Changes</button>
      <button mat-raised-button (click) = "saveEdits($event)">Delete Time Away</button>
    </td>
    </table>
  </div>
    


<app-enterta (onDatePicked) = "doSomething($event)"  ></app-enterta>